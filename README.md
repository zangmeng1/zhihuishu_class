# zhihuishu_class
- 智慧树课程，刷课，考试脚本
- 一条龙脚本，配置账号密码自动刷课考试，无需用户看守。
- 测试于`山东外事职业大学(威海校区)`线上公开课
- 优点
  - 支持多账号
  - log日志记录详细操作
  - 绕过空间推理易盾及弹窗题目，无需用户手动验证
  - 定时启动，无需每日上线
  - 自定义每个用户刷课时长

- 缺点(下列缺点均在计划中，暂未实装)
  - 暂时无法自动考试
  - 未测试其他学校课程

## 使用
- 配置
  - `config.ini`文件说明：
    - auto_time = `07:21`  //填写每日脚本自动开始时间
    - ~~apikey = sk-12345   //chatgpt的apikey（暂未实装~~
    - ~~yanxi_token = 1234567890   //yanxi题库的token（暂未实装~~
  - `users.json`文件说明：
    ```
    标准格式：
      {
         "账号1": {
           "password": "密码",
           "class": [//课程列表，可添加多个课程
            {
                "class_name": "开心学日语",//填写要刷的课程名称
                "watch_time": 30,//观看视频时长，建议大于自己课程的建议观看时长3~4分钟
                "watch_live": 0//是否刷见面课，1开0关。开启自动检测课程已结束见面课直播并观看。（检测会浪费时间，没有见面课不要开）
            },
            {
                "class_name": "开心学英语",
                "watch_time": 30,
                "watch_live": 1
            }
            ]
         },
         "账号2": {
           "password": "密码",
           "class": [
            {
                "class_name": "",//若正在进行的课程只有一节，可不填写（建议填写，为了规范）
                "watch_time": 30,
                "watch_live": 1
            }
            ]
         }
      }
      ```

## 注意事项
- 脚本环境
   - 条件允许最好使用`校园网`，经测试校园网IP触发空间推理验证码率低
   - `新设备`登录账号时会出现`空间推理验证码`，需要用户手动验证
   (若不验证无法进入，手动验证1~2次，该设备再登录此账号则无需验证。`若使用校园网可忽略此条`)
   - 本人测试环境：win11家庭版+edge浏览器 128.0.2739.79 (正式版本) (64 位)+校园网
     - 该环境下登录新账号，长时间刷课 均`无`出现`空间推理验证码`
   - 本人实际使用环境：win server 2016+edge浏览器 128.0.2739.79 (正式版本) (64 位)+山东省家庭宽带网络
     - 该环境下登录新账号，长时间刷课 均`100%`出现`空间推理验证码`(长时间刷课指：观看时长20min+，或频繁上下线刷课3~4次/天)

- 问题排查
    - log日志会记录一些重点操作，若发现脚本存在问题，可按时间节点查询log日志排查问题
    - 设备网络环境差可能会影响脚本运行，建议脚本运行时不要使用全局vpn
    - 若新账号多次在观看视频前出错，建议手动进入一次观看界面，某些仅出现一次的弹窗脚本不会检测处理



